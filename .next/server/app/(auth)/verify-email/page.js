(()=>{var e={};e.id=552,e.ids=[552],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},24685:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>s.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=a(50482),i=a(69108),n=a(62563),s=a.n(n),o=a(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(r,l);let d=["",{children:["(auth)",{children:["verify-email",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,82967)),"/Users/yihnatchuk/Downloads/Store/my-store/app/(auth)/verify-email/page.jsx"]}]},{}]},{template:[()=>Promise.resolve().then(a.bind(a,6814)),"/Users/yihnatchuk/Downloads/Store/my-store/app/(auth)/template.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,10888)),"/Users/yihnatchuk/Downloads/Store/my-store/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/yihnatchuk/Downloads/Store/my-store/app/(auth)/verify-email/page.jsx"],u="/(auth)/verify-email/page",f={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(auth)/verify-email/page",pathname:"/verify-email",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91360:(e,r,a)=>{let t={"2492af2024c06b5f17f2c88ee4c23fb0368cfdf8":()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.emailVerificationTokenUpdate),"36523d563cadbd3915b8a9192a1c150329a4a3eb":()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.checkUserExistance),"42891e9ab4d3e6d65271791702723ee5466b5de6":()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.isUsersEmailVerified),"4ca1c57af74a52befbf8a75f0a06215ba5e19116":()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.getUser),"96ae9694ef864c0422a9f51dad914d3c3477b338":()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.createUser),bdc0ef0b670a11edd69e48c4561da8f0b237e568:()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.findUserByEmail),f84b3a1870ff959304659d4323c9164bc6e6a189:()=>Promise.resolve().then(a.bind(a,95305)).then(e=>e.verifyEmail)};async function i(e,...r){return(await t[e]()).apply(null,r)}e.exports={"2492af2024c06b5f17f2c88ee4c23fb0368cfdf8":i.bind(null,"2492af2024c06b5f17f2c88ee4c23fb0368cfdf8"),"36523d563cadbd3915b8a9192a1c150329a4a3eb":i.bind(null,"36523d563cadbd3915b8a9192a1c150329a4a3eb"),"42891e9ab4d3e6d65271791702723ee5466b5de6":i.bind(null,"42891e9ab4d3e6d65271791702723ee5466b5de6"),"4ca1c57af74a52befbf8a75f0a06215ba5e19116":i.bind(null,"4ca1c57af74a52befbf8a75f0a06215ba5e19116"),"96ae9694ef864c0422a9f51dad914d3c3477b338":i.bind(null,"96ae9694ef864c0422a9f51dad914d3c3477b338"),bdc0ef0b670a11edd69e48c4561da8f0b237e568:i.bind(null,"bdc0ef0b670a11edd69e48c4561da8f0b237e568"),f84b3a1870ff959304659d4323c9164bc6e6a189:i.bind(null,"f84b3a1870ff959304659d4323c9164bc6e6a189")}},75530:(e,r,a)=>{Promise.resolve().then(a.bind(a,76256)),Promise.resolve().then(a.bind(a,90623))},49570:(e,r,a)=>{Promise.resolve().then(a.bind(a,34753))},4386:(e,r,a)=>{Promise.resolve().then(a.bind(a,46464)),Promise.resolve().then(a.bind(a,73460))},42346:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,26840,23)),Promise.resolve().then(a.t.bind(a,38771,23)),Promise.resolve().then(a.t.bind(a,13225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,43982,23))},34753:(e,r,a)=>{"use strict";a.r(r),a.d(r,{AuthLayout:()=>o});var t=a(95344),i=a(98890);let n=(0,i.ZP)("section")({background:"black",backgroundImage:"linear-gradient(#02294F, #000)",backgroundSize:"100% 45%",backgroundRepeat:"no-repeat",backgroundPosition:"top",minHeight:"100vh",display:"flex",justifyContent:"center"}),s=(0,i.ZP)("div")({maxWidth:"30%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","@media (max-width: 1079px)":{maxWidth:"50%"},"@media (max-width: 767px)":{maxWidth:"70%"}}),o=({children:e})=>t.jsx(n,{children:t.jsx(s,{children:e})})},76256:(e,r,a)=>{"use strict";a.r(r),a.d(r,{SessionWrapper:()=>n});var t=a(95344),i=a(47674);let n=({children:e})=>t.jsx(i.SessionProvider,{children:e})},46464:(e,r,a)=>{"use strict";a.r(r),a.d(r,{Verify:()=>h});var t=a(95344),i=a(56506),n=a(98890),s=a(44504),o=a(8428),l=a(3729),d=a(48853);let c=()=>{let e=(0,o.useSearchParams)(),r=e.get("email"),a=e.get("token"),[t,i]=(0,l.useState)(!0),[n,s]=(0,l.useState)("Error verifying your email");return(0,l.useEffect)(()=>{(async()=>{try{if(!r||!a)throw Error("Missing required fields");let{email:e,emailVerifToken:t}=await (0,d.GY)(r);if(!e||a!==t)throw Error("Invalid verification token");await (0,d.lm)(e),s("Email verified successfully. Please relogin."),i(!1)}catch(e){console.error("Error verifying email:",e)}})()},[r,a]),{isLoading:t,result:n}};var u=a(90881);let f=(0,n.ZP)("section")({width:"100%",padding:"30px 40px 50px",background:"white",display:"flex",flexDirection:"column",gap:"30px",borderRadius:"20px"}),m=(0,n.ZP)("p")({display:"flex",justifyContent:"center",color:"black",fontSize:"20px",lineHeight:"26px",marginBottom:"40px"}),p=(0,n.ZP)(i.default)({...u.nc,textDecoration:"none",color:"white",textAlign:"center"}),h=()=>{let{isLoading:e,result:r}=c();return(0,t.jsxs)(f,{children:[t.jsx(m,{children:e?t.jsx(s.Z,{color:"inherit",size:50}):r}),t.jsx(p,{href:"/signIn",children:"Back to Login"})]})}},73460:(e,r,a)=>{"use strict";a.r(r),a.d(r,{VerifyIcon:()=>c});var t=a(8428),i=a(3729),n=a(71016),s=a(40044),o=a(10378);let l=i.useSyncExternalStore;var d=a(90881);let c=()=>{let e=(0,t.usePathname)(),[r,a]=(0,i.useState)(null),c=function(e,r={}){let a=(0,n.Z)(),{defaultMatches:t=!1,matchMedia:d=null,ssrMatchMedia:c=null,noSsr:u=!1}=(0,s.Z)({name:"MuiUseMediaQuery",props:r,theme:a}),f="function"==typeof e?e(a):e;return(void 0!==l?function(e,r,a,t,n){let s=i.useCallback(()=>r,[r]),o=i.useMemo(()=>{if(n&&a)return()=>a(e).matches;if(null!==t){let{matches:r}=t(e);return()=>r}return s},[s,e,t,n,a]),[d,c]=i.useMemo(()=>{if(null===a)return[s,()=>()=>{}];let r=a(e);return[()=>r.matches,e=>(r.addListener(e),()=>{r.removeListener(e)})]},[s,a,e]);return l(c,d,o)}:function(e,r,a,t,n){let[s,l]=i.useState(()=>n&&a?a(e).matches:t?t(e).matches:r);return(0,o.Z)(()=>{let r=!0;if(!a)return;let t=a(e),i=()=>{r&&l(t.matches)};return i(),t.addListener(i),()=>{r=!1,t.removeListener(i)}},[e,a]),s})(f=f.replace(/^@media( ?)/m,""),t,d,c,u)}(d.pu.mediaQuery);return(0,i.useEffect)(()=>{a(c?d.pu.small:d.pu.large)},[c]),r&&(0,d.if)(r)[e].icon}},48853:(e,r,a)=>{"use strict";a.d(r,{GY:()=>s,i$:()=>i,lm:()=>n}),a(13664);var t=a(28371),i=(0,t.$)("42891e9ab4d3e6d65271791702723ee5466b5de6");(0,t.$)("36523d563cadbd3915b8a9192a1c150329a4a3eb"),(0,t.$)("96ae9694ef864c0422a9f51dad914d3c3477b338");var n=(0,t.$)("f84b3a1870ff959304659d4323c9164bc6e6a189");(0,t.$)("2492af2024c06b5f17f2c88ee4c23fb0368cfdf8");var s=(0,t.$)("bdc0ef0b670a11edd69e48c4561da8f0b237e568");(0,t.$)("4ca1c57af74a52befbf8a75f0a06215ba5e19116")},90881:(e,r,a)=>{"use strict";a.d(r,{Yc:()=>p,Ti:()=>f,H4:()=>c,_5:()=>u,Ls:()=>A,pu:()=>g,if:()=>y,nc:()=>x,fV:()=>h,vT:()=>w});var t=a(95344),i=a(29709),n=a(47674),s=a(29057),o=a(42174),l=a(48853);let d={signIn:"/signIn",signUp:"/signUp",verifyEmailSend:"/verify-email/send",verifyEmail:"/verify-email"},c={path:d.signIn,title:"Sign in",subTitle:"Already have an account?"},u={path:d.signUp,title:"Sign up",subTitle:"Don't have an account?"},f={path:d.verifyEmailSend,title:"Resend a verification link",subTitle:"A verification link has been sent to your email."},m={username:{id:"username",label:"User Name",name:"username",autoFocus:!0,inputlabelprops:{style:{fontSize:"16px"}}},email:{id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,inputlabelprops:{style:{fontSize:"16px"}}},password:{id:"password",label:"Password",name:"password",autoComplete:"current-password",inputlabelprops:{style:{fontSize:"16px"}}},confirmPassword:{id:"confirmPassword",label:"Confirm Password",name:"confirmPassword",autoComplete:"current-password",inputlabelprops:{style:{fontSize:"16px"}}}},p={[c.path]:{fields:[m.email,m.password],title:c.title},[u.path]:{fields:[m.username,m.email,m.password,m.confirmPassword],title:u.title},[f.path]:{title:f.title}},h=e=>"password"===e||"confirmPassword"===e;i.Ry({username:i.Z_().min(1,"Username is required").max(100),email:i.Z_().min(1,"Email is required").email("Invalid email"),password:i.Z_().min(1,"Password is required").min(8,"Password must have 8 characters"),confirmPassword:i.Z_().min(1,"Password confirmation is required")}).refine(({password:e,confirmPassword:r})=>e===r,{path:["confirmPassword"],message:"Password do not match"});let b=i.Ry({email:i.Z_().min(1,"Email is required").email("Invalid email"),password:i.Z_().min(1,"Password is required").min(8,"Password must have 8 characters")}),A=[{src:{src:"/_next/static/media/discord.7f0086c9.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVca8Fba79dbMJbar9car5ba8Bca8FdacBcar5basBbar9ca79hccsrdnrFAAAADHRSTlP7F6q6RoTqNVvRiXkwGWRIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAADdJREFUeJwlyjESwCAMxEDd2RhI/P/3ZiCqthCjAXrgH8akNDERypSDsNY6cG9qt3nOW2V0m+8HH8IA5fH+DeUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},alt:"Discord Icon",authentificationMethod:"discord"},{src:{src:"/_next/static/media/facebook.eb5d4246.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEUadtMZdtIeetYTc9L+/vwIbNCOu+dand7l7vavzu0sgtXV5fQ8ithrpuHHgndyAAAAAXRSTlPJol6icgAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAA4SURBVHicHcnJDcBADMNAUbK9OftvN9i8CAwlQzr6+8yKAO56W5CrJhbxUTVbWHUamaSmLTne5wMflgDh1U3BvgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},alt:"Facebook Icon",authentificationMethod:"facebook"},{src:{src:"/_next/static/media/google.aa4f9068.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEVMaXETf+sNukv92wATsUfXPyIYe/cWgvAWfuWzgSH+Sij9TyHXPyLaPyTcQSMVetnhQiMPk1ITkKD/IgAMmysTuEn/TScSsUYRrkgXfeT/Oir9SCXm1Qj/SiUae+B+xij/xwT+ixX/3gAQoT7OhiTTAAAAInRSTlMAtvGeLq0u9q0F8i00eP0w/rn1D53+/rie5DCes7iQ/LP8b5PcKgAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABDSURBVHicHcZFEoAwEADBSUjYCO6u//8jVfSpIe5DZTOIIay2yOG6F2g9PAn+UM79cbMI22kgFYXReuoaKcGM/VunfG5IAv6yjnTbAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},alt:"Google Icon",authentificationMethod:"google"}],y=e=>({[d.verifyEmailSend]:{icon:t.jsx(s.Z,{sx:{fontSize:e},color:"secondary"})},[d.verifyEmail]:{icon:t.jsx(o.Z,{sx:{fontSize:e},color:"secondary"})}}),g={mediaQuery:"(max-width: 767px)",small:"100px",large:"200px"},x={background:"black",backgroundImage:"linear-gradient(#02294F, #090E10)",backgroundSize:"100% 20%",backgroundRepeat:"no-repeat",padding:"15px 20px",color:"white",fontSize:"18px",marginBottom:"8px",border:"1px solid black",borderRadius:"5px",":hover":{background:"white",color:"black",opacity:.75,transition:"all .7s ease-in-out"},"@media (max-width: 767px)":{fontSize:"14px",":hover":{background:"black",color:"white",opacity:1,transition:"none"}}},w=async(e,r)=>{let{success:a,data:t,error:i}=b.safeParse({email:r.get("email"),password:r.get("password")});if(!a)return{errors:i.flatten().fieldErrors};try{await (0,l.i$)(t.email),await (0,n.signIn)("credentials",{email:t.email,password:t.password,callbackUrl:"/"})}catch(e){if(e){if("CredentialsSignin"===e.type)return{errors:"Invalid credentials."};return{errors:"Something went wrong."}}throw e}}},6814:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var t=a(25036),i=a(86843);let n=(0,i.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/Layouts/AuthLayout.jsx`),{__esModule:s,$$typeof:o}=n;n.default;let l=(0,i.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/Layouts/AuthLayout.jsx#AuthLayout`);function d({children:e}){return t.jsx(l,{children:e})}},82967:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(25036),i=a(40002),n=a(86843);let s=(0,n.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/Verify/Verify.jsx`),{__esModule:o,$$typeof:l}=s;s.default;let d=(0,n.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/Verify/Verify.jsx#Verify`);var c=a(6912);function u(){return(0,t.jsxs)(i.Suspense,{children:[t.jsx(c.R,{}),t.jsx(d,{})]})}},10888:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>m,metadata:()=>f});var t=a(25036),i=a(74932),n=a.n(i),s=a(54346),o=a(86843);let l=(0,o.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/SessionWrapper.jsx`),{__esModule:d,$$typeof:c}=l;l.default;let u=(0,o.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/SessionWrapper.jsx#SessionWrapper`);a(67272);let f={title:"Laptops for everyone",description:"Buy laptops for yourself"};function m({children:e}){return t.jsx(u,{children:t.jsx("html",{lang:"en",children:t.jsx("body",{className:n().className,children:t.jsx(s.ZP,{children:e})})})})}},6912:(e,r,a)=>{"use strict";a.d(r,{R:()=>o});var t=a(86843);let i=(0,t.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/Verify/VerifyIcon.jsx`),{__esModule:n,$$typeof:s}=i;i.default;let o=(0,t.createProxy)(String.raw`/Users/yihnatchuk/Downloads/Store/my-store/components/Verify/VerifyIcon.jsx#VerifyIcon`)},69976:(e,r,a)=>{"use strict";let t;a.d(r,{prisma:()=>t}),t=new(a(53524)).PrismaClient},95305:(e,r,a)=>{"use strict";a.r(r),a.d(r,{checkUserExistance:()=>s,createUser:()=>o,emailVerificationTokenUpdate:()=>d,findUserByEmail:()=>c,getUser:()=>u,isUsersEmailVerified:()=>f,verifyEmail:()=>l});var t=a(98601);a(75811);var i=a(69976),n=a(46893);let s=async(e,r)=>await i.prisma.user.findUnique({where:{email:e,username:r}}),o=async e=>await i.prisma.user.create({data:e}),l=e=>i.prisma.user.update({where:{email:e},data:{emailVerifiedAt:new Date,emailVerifToken:null}}),d=async(e,r)=>await i.prisma.user.update({where:{email:e},data:{emailVerifToken:r}}),c=async e=>await i.prisma.user.findFirst({where:{email:e}}),u=async e=>{try{return await c(e)}catch(e){throw console.error("Failed to fetch user:",e),Error("Failed to fetch user.")}},f=async e=>{let r=await i.prisma.user.findFirst({where:{email:e}});if(!r)return!0;if(!r?.emailVerifiedAt)throw new EmailNotVerifiedError(`EMAIL_NOT_VERIFIED:${e}`);return!0};(0,n.ensureServerEntryExports)([s,o,l,d,c,u,f]),(0,t.createActionProxy)("36523d563cadbd3915b8a9192a1c150329a4a3eb",s),(0,t.createActionProxy)("96ae9694ef864c0422a9f51dad914d3c3477b338",o),(0,t.createActionProxy)("f84b3a1870ff959304659d4323c9164bc6e6a189",l),(0,t.createActionProxy)("2492af2024c06b5f17f2c88ee4c23fb0368cfdf8",d),(0,t.createActionProxy)("bdc0ef0b670a11edd69e48c4561da8f0b237e568",c),(0,t.createActionProxy)("4ca1c57af74a52befbf8a75f0a06215ba5e19116",u),(0,t.createActionProxy)("42891e9ab4d3e6d65271791702723ee5466b5de6",f)},4998:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var t=a(70337);let i=e=>[{type:"image/png",sizes:"1006x588",url:(0,t.fillMetadataSegment)(".",e.params,"icon.png")+"?f24f1b1f9d814725"}]},67272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[638,946,706,384],()=>a(24685));module.exports=t})();